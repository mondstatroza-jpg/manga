<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Игра с котиком - AniManga Paradise</title>

    <!-- Основные стили -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/themes.css">
    <link rel="stylesheet" href="css/responsive.css">

    <!-- Стили игры -->
    <link rel="stylesheet" href="css/game-styles.css">
    <link rel="stylesheet" href="css/game-animations.css">

    <!-- Иконки и шрифты -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

    <style>
        /* Дополнительные стили */
        .leaderboard-container {
            background: var(--bg-secondary);
            border-radius: 20px;
            padding: 2rem;
            margin-top: 2rem;
            box-shadow: 0 10px 30px var(--shadow-color);
        }

        .leaderboard-title {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            color: var(--accent-color);
        }

        .leaderboard-list {
            display: grid;
            gap: 0.8rem;
        }

        .leaderboard-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.8rem 1rem;
            background: var(--bg-accent);
            border-radius: 10px;
        }

        .leaderboard-rank {
            background: var(--accent-color);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }

        .leaderboard-name {
            flex: 1;
            margin: 0 1rem;
        }

        .leaderboard-score {
            font-weight: 700;
            color: var(--accent-color);
        }

        .boosters-active {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }

        .booster-status {
            background: var(--bg-accent);
            padding: 0.8rem;
            border-radius: 10px;
            text-align: center;
        }

            .booster-status.active {
                border: 2px solid var(--success-color);
            }
    </style>
</head>
<body class="light-theme">
    <!-- Анимированные фоны -->
    <div class="background-animation light-background" id="backgroundAnimation"></div>

    <!-- Шапка сайта -->
    <header>
        <div class="header-container">
            <div class="logo-container">
                <div class="logo">
                    <i class="fas fa-sun" id="themeLogo"></i>
                </div>
                <h1 class="site-name">AniManga Paradise</h1>
            </div>

            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>

            <nav id="mainNav">
                <a href="index.html" class="nav-link">
                    <i class="fas fa-home"></i> Главная
                </a>
                <a href="catalog.html" class="nav-link">
                    <i class="fas fa-book"></i> Каталог
                </a>
                <a href="news.html" class="nav-link">
                    <i class="fas fa-newspaper"></i> Новости
                </a>
                <a href="game.html" class="nav-link active">
                    <i class="fas fa-gamepad"></i> Поиграть
                </a>
                <a href="cart.html" class="nav-link cart-icon">
                    <i class="fas fa-shopping-cart"></i> Корзина
                    <span class="cart-count" id="headerCartCount">0</span>
                </a>
            </nav>

            <div class="controls">
                <div class="theme-switcher">
                    <button class="theme-btn active" data-theme="light" title="Светлая тема">
                        <i class="fas fa-sun"></i>
                    </button>
                    <button class="theme-btn" data-theme="dark" title="Темная тема">
                        <i class="fas fa-moon"></i>
                    </button>
                    <button class="theme-btn" data-theme="anime" title="Аниме тема">
                        <i class="fas fa-heart"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Основной контент игры -->
    <main class="game-page">
        <div class="game-container">
            <!-- Шапка игры -->
            <div class="game-header">
                <h1 class="game-title">
                    <i class="fas fa-paw"></i> Поймай Котейку
                </h1>
                <p class="game-subtitle">
                    Помоги голодному котику поймать вкусняшки и избегай опасных предметов!
                    Управляй котиком стрелками влево/вправо.
                </p>

                <div class="game-stats">
                    <div class="stat-item">
                        <span class="stat-value" id="currentScore">0</span>
                        <span class="stat-label">Текущий счет</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="highScore">0</span>
                        <span class="stat-label">Рекорд</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="livesCount">3</span>
                        <span class="stat-label">Жизни</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="timeCount">60</span>
                        <span class="stat-label">Время</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="levelCount">1</span>
                        <span class="stat-label">Уровень</span>
                    </div>
                </div>
            </div>

            <!-- Основное игровое поле -->
            <div class="game-main">
                <!-- Боковая панель -->
                <div class="game-sidebar">
                    <!-- Управление -->
                    <div class="sidebar-section">
                        <h3><i class="fas fa-keyboard"></i> Управление</h3>
                        <div class="controls-list">
                            <div class="control-item">
                                <div class="control-key">←</div>
                                <span>Двигаться влево</span>
                            </div>
                            <div class="control-item">
                                <div class="control-key">→</div>
                                <span>Двигаться вправо</span>
                            </div>
                            <div class="control-item">
                                <div class="control-key">ПРОБЕЛ</div>
                                <span>Старт/Пауза</span>
                            </div>
                            <div class="control-item">
                                <div class="control-key">R</div>
                                <span>Рестарт</span>
                            </div>
                        </div>
                    </div>

                    <!-- Предметы -->
                    <div class="sidebar-section">
                        <h3><i class="fas fa-star"></i> Что ловить</h3>
                        <div class="items-list">
                            <div class="item-card good">
                                <div class="item-icon">🐟</div>
                                <div class="item-name">Рыбка</div>
                                <div class="item-score">+10 очков</div>
                            </div>
                            <div class="item-card good">
                                <div class="item-icon">🍣</div>
                                <div class="item-name">Суши</div>
                                <div class="item-score">+20 очков</div>
                            </div>
                            <div class="item-card good">
                                <div class="item-icon">🥛</div>
                                <div class="item-name">Молоко</div>
                                <div class="item-score">+15 очков</div>
                            </div>
                            <div class="item-card bad">
                                <div class="item-icon">💣</div>
                                <div class="item-name">Бомба</div>
                                <div class="item-score">-1 жизнь</div>
                            </div>
                            <div class="item-card bad">
                                <div class="item-icon">🌶️</div>
                                <div class="item-name">Перец</div>
                                <div class="item-score">-1 жизнь</div>
                            </div>
                            <div class="item-card">
                                <div class="item-icon">⚡</div>
                                <div class="item-name">Бустер</div>
                                <div class="item-score">Особые способности</div>
                            </div>
                        </div>
                    </div>

                    <!-- Бустеры -->
                    <div class="sidebar-section">
                        <h3><i class="fas fa-bolt"></i> Бустеры</h3>
                        <div class="powerups-grid">
                            <div class="powerup-card" onclick="buyBooster('speed')">
                                <div class="powerup-header">
                                    <span>⚡ Скорость</span>
                                    <span class="powerup-cost">50</span>
                                </div>
                                <div class="powerup-description">Увеличивает скорость котика в 2 раза</div>
                                <div class="powerup-count">Куплено: <span id="speedPowerupCount">0</span></div>
                            </div>
                            <div class="powerup-card" onclick="buyBooster('slow')">
                                <div class="powerup-header">
                                    <span>🐌 Замедление</span>
                                    <span class="powerup-cost">75</span>
                                </div>
                                <div class="powerup-description">Замедляет падение предметов</div>
                                <div class="powerup-count">Куплено: <span id="slowPowerupCount">0</span></div>
                            </div>
                            <div class="powerup-card" onclick="buyBooster('shield')">
                                <div class="powerup-header">
                                    <span>🛡️ Щит</span>
                                    <span class="powerup-cost">100</span>
                                </div>
                                <div class="powerup-description">Защищает от одного плохого предмета</div>
                                <div class="powerup-count">Куплено: <span id="shieldPowerupCount">0</span></div>
                            </div>
                        </div>
                    </div>

                    <!-- Активные бустеры -->
                    <div class="sidebar-section">
                        <h3><i class="fas fa-running"></i> Активные бустеры</h3>
                        <div class="boosters-active">
                            <div class="booster-status">
                                <div>⚡ Скорость</div>
                                <div id="speedBoostStatus" style="font-size: 0.9rem; margin-top: 0.3rem;">Не активен</div>
                            </div>
                            <div class="booster-status">
                                <div>🐌 Замедление</div>
                                <div id="slowBoostStatus" style="font-size: 0.9rem; margin-top: 0.3rem;">Не активен</div>
                            </div>
                            <div class="booster-status">
                                <div>🛡️ Щит</div>
                                <div id="shieldBoostStatus" style="font-size: 0.9rem; margin-top: 0.3rem;">Не активен</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Игровое поле -->
                <div class="game-canvas-container">
                    <!-- Игровой интерфейс -->
                    <div class="game-ui">
                        <div class="ui-item">
                            Очки: <span id="gameScore">0</span>
                        </div>
                        <div class="ui-item">
                            Время: <span id="gameTime">60</span>с
                        </div>
                        <div class="ui-item">
                            Жизни: <span id="gameLives">3</span>
                        </div>
                    </div>

                    <!-- Игровое поле -->
                    <div id="gameCanvas"></div>

                    <!-- Модальное окно начала игры -->
                    <div class="game-modal" id="startModal" style="display: block;">
                        <h2>Поймай Котейку! 🐱</h2>
                        <p>Помоги котику поймать как можно больше вкусняшек!</p>
                        <p>✅ Лови: <strong>🐟 Рыбку (+10)</strong>, <strong>🍣 Суши (+20)</strong>, <strong>🥛 Молоко (+15)</strong></p>
                        <p>❌ Избегай: <strong>💣 Бомбу</strong>, <strong>🌶️ Перец</strong>, <strong>🍋 Лимон</strong></p>
                        <p>⚡ Бустеры дают особые способности!</p>
                        <div style="margin: 2rem 0;">
                            <button class="btn-primary game-btn" id="startGameBtn">
                                <i class="fas fa-play"></i> Начать игру
                            </button>
                        </div>
                        <p><small>Управление: ← → стрелки, ПРОБЕЛ - пауза, R - рестарт</small></p>
                    </div>

                    <!-- Модальное окно окончания игры -->
                    <div class="game-modal" id="gameOverModal" style="display: none;">
                        <h2 id="gameOverTitle">Мяяяяяя... 😿</h2>
                        <p id="gameOverMessage">Кажется твой котик скушал что-то не то. Давай попробуем еще раз!</p>

                        <img src="https://media.tenor.com/3bTxZ4HdARYAAAAi/pixel-cat.gif" alt="Печальный котик" class="modal-gif">

                        <p>Твой счет: <strong id="finalScore">0</strong></p>
                        <p>Рекорд: <strong id="finalHighScore">0</strong></p>

                        <div style="margin: 1.5rem 0;">
                            <input type="text" id="nicknameInput" class="nickname-input" placeholder="Введи свой никнейм">
                            <p><small>Напиши свой ник, чтобы видеть свой прогресс!</small></p>
                        </div>

                        <div class="game-controls">
                            <button class="btn-primary" id="submitNicknameBtn">
                                <i class="fas fa-save"></i> Сохранить результат
                            </button>
                            <button class="btn-secondary" id="closeModalBtn">
                                <i class="fas fa-redo"></i> Играть снова
                            </button>
                        </div>

                        <p style="margin-top: 1.5rem; font-size: 0.9rem; color: var(--text-secondary);">
                            <i class="fas fa-paw"></i> И да, мы не мяу-виноваты, что авторизацию сделать не можем, и вообще, у меня лапки, я сплю!
                        </p>
                    </div>

                    <!-- Кнопки управления -->
                    <div class="game-controls">
                        <button class="btn-primary game-btn" id="pauseGameBtn" style="display: none;">
                            <i class="fas fa-pause"></i> Пауза
                        </button>
                        <button class="btn-secondary game-btn" id="restartGameBtn">
                            <i class="fas fa-redo"></i> Заново
                        </button>
                    </div>

                    <!-- Мобильные контролы -->
                    <div class="mobile-controls">
                        <button class="mobile-btn" id="leftBtn">←</button>
                        <button class="mobile-btn" id="actionBtn">⚡</button>
                        <button class="mobile-btn" id="rightBtn">→</button>
                    </div>
                </div>
            </div>

            <!-- Таблица лидеров -->
            <div class="leaderboard-container">
                <h3 class="leaderboard-title">
                    <i class="fas fa-trophy"></i> Таблица лидеров
                </h3>
                <div class="leaderboard-list" id="leaderboardList">
                    <!-- Записи добавляются через JS -->
                </div>
                <div style="margin-top: 1.5rem; text-align: center;">
                    <button class="btn-secondary" onclick="resetLeaderboard()">
                        <i class="fas fa-trash"></i> Очистить таблицу
                    </button>
                </div>
            </div>

            <!-- Рекламный блок -->
            <div class="game-ads">
                <h3>Больше игр с котиками!</h3>
                <p>Здесь могли бы быть другие увлекательные игры с нашими пушистыми друзьями</p>

                <div class="ads-grid">
                    <div class="ad-card">
                        <h4>Котик-пазл 🧩</h4>
                        <p>Собери картинку с милым котиком из пазлов. Разные уровни сложности!</p>
                        <span class="ad-tag">В разработке</span>
                    </div>
                    <div class="ad-card">
                        <h4>Мемори с котиками 🃏</h4>
                        <p>Найди пары одинаковых котиков в классической игре на память.</p>
                        <span class="ad-tag">Скоро</span>
                    </div>
                    <div class="ad-card">
                        <h4>Котик-платформер 🏃‍♂️</h4>
                        <p>Помоги котику пройти все уровни, собирая рыбки и избегая препятствий.</p>
                        <span class="ad-tag">В планах</span>
                    </div>
                </div>

                <p style="margin-top: 2rem; opacity: 0.8; font-size: 0.9rem;">
                    <i class="fas fa-heart"></i> Эти игры появятся на сайте в будущих обновлениях!
                </p>
            </div>
        </div>
    </main>

    <!-- Подвал -->
    <footer>
        <div class="footer-container">
            <div class="footer-section">
                <h3><i class="fas fa-hashtag"></i> Социальные сети</h3>
                <div class="social-links">
                    <a href="#" class="social-link vk">
                        <i class="fab fa-vk"></i> VKontakte
                    </a>
                    <a href="#" class="social-link telegram">
                        <i class="fab fa-telegram"></i> Telegram
                    </a>
                    <a href="#" class="social-link instagram">
                        <i class="fab fa-instagram"></i> Instagram
                    </a>
                </div>
            </div>

            <div class="footer-section">
                <h3><i class="fas fa-question-circle"></i> Помощь</h3>
                <ul>
                    <li><a href="#"><i class="fas fa-shipping-fast"></i> Доставка и оплата</a></li>
                    <li><a href="#"><i class="fas fa-exchange-alt"></i> Возврат товара</a></li>
                    <li><a href="#"><i class="fas fa-question"></i> Частые вопросы</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3><i class="fas fa-info-circle"></i> О нас</h3>
                <p>AniManga Paradise - магазин для настоящих фанатов аниме, манги и комиксов.</p>
                <p style="margin-top: 1rem; font-size: 0.9rem; color: var(--accent-color);">
                    <i class="fas fa-gamepad"></i> Игра "Поймай Котейку" - наш подарок фанатам!
                </p>
            </div>
        </div>

        <div class="footer-bottom">
            <div class="copyright">
                <p>&copy; 2024 AniManga Paradise. Все права защищены.</p>
                <p class="made-with">
                    <i class="fas fa-heart"></i> Сделано с любовью для фанатов аниме
                    <i class="fas fa-heart"></i>
                </p>
            </div>
        </div>
    </footer>

    <!-- JavaScript игры -->
    <script src="js/game.js"></script>

    <script>
        // Вспомогательные функции
        function buyBooster(type) {
            if (game) {
                game.buyBooster(type);
            }
        }

        function resetLeaderboard() {
            if (confirm('Вы уверены, что хотите очистить таблицу лидеров?')) {
                localStorage.removeItem('catGameLeaderboard');
                if (game) {
                    game.updateLeaderboard();
                }
            }
        }

        // Активация бустеров
        document.querySelectorAll('.activate-booster').forEach(btn => {
            btn.addEventListener('click', function () {
                if (game) {
                    game.activateBooster(this.dataset.booster);
                }
            });
        });
    </script>
</body>
</html>